<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Slider</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>Interactive Slider Example</h1>
  <p>Move the slider and see Flask respond instantly!</p>

  <label for="slider">Pick a number:</label>
  <input type="range" id="slider" min="0" max="100" value="10">
  <p>Value: <span id="val">10</span></p>
  <p>Square (from Flask): <span id="result">100</span></p>

  <script>
    const slider = document.getElementById("slider");
    const valSpan = document.getElementById("val");
    const resSpan = document.getElementById("result");

    slider.oninput = function() {
      const val = this.value;
      valSpan.textContent = val;

      // Send value to Flask asynchronously
      fetch("/update", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ value: val })
      })
      .then(response => response.json())
      .then(data => {
        resSpan.textContent = data.result;
      });
    };
  </script>
</body>
</html>
